<nav class="nav-sidebar menu-desktop:visible mobile:invisible desktop:visible">
  <aside
    class="sidebar-desktop absolute top-0 bottom-0 right-0 w-[23%] h-screen bg-white py-6 overflow-y-auto transition ease-in-out translate-x-full opacity-0 delay-50 duration-700 z-10"
  >
    <div
      class="sidebar-header flex justify-center fixed top-0 w-0 h-0 bg-current"
    >
      <button
        class="close-btn fixed right-5 my-6 pl-2 py-[6px] z-20 hover:bg-slate-100"
      >
        <svg
          class="h-6 w-5 mr-2 text-gray-600"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
          fill="none"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path stroke="none" d="M0 0h24v24H0z"></path>
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line></svg
        >
      </button>
    </div>
    <ul
      class="flex flex-col text-xs mt-10 pt-2 px-8 [&>li]:bg-white [&>li>a]:text-slate-900 [&>li>a]:font-medium [&>li>a]:leading-7 [&>li]:pl-3 [&>li]:pr-0 [&>li]:py-0 [&>li]:my-1 [&>li]:rounded-sm [&>li]:transition-colors [&>li]:duration-300 [&>li]:cursor-pointer"
    >
      <li class="hover:bg-stone-300/40">
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://www.tesla.com/es_mx/inventory/new/m3"
          >Inventario existente</a
        >
      </li>
      <li class="hover:bg-stone-300/40">
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://www.tesla.com/es_mx/inventory/used/m3"
          >Inventario usado</a
        >
      </li>
      <li class="hover:bg-stone-300/40">
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://www.tesla.com/es_mx/drive">Demostración de manejo</a
        >
      </li>
      <li class="hover:bg-stone-300/40">
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://www.tesla.com/es_mx/fleet">Flotilla</a
        >
      </li>
      <li class="hover:bg-stone-300/40">
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://www.tesla.com/es_mx/roadster">Roadster</a
        >
      </li>
      <li class="hover:bg-stone-300/40">
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://www.tesla.com/es_mx/commercial">Energia comercial</a
        >
      </li>
      <li class="hover:bg-stone-300/40">
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://www.tesla.com/es_mx/utilities">Infraestructra</a
        >
      </li>
      <li class="hover:bg-stone-300/40">
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://www.tesla.com/es_mx/charging">Carga</a
        >
      </li>
      <li class="hover:bg-stone-300/40">
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://www.tesla.com/es_mx/careers">Bolsa de trabajo</a
        >
      </li>
      <li class="hover:bg-stone-300/40">
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://www.tesla.com/es_mx/findus?v=2&bounds=54.3280328157084%2C-66.90088009375%2C21.92058674478928%2C-131.63232540625&zoom=5&filters=store%2Cservice%2Csupercharger%2Cdestination%20charger%2Cbodyshop%2Cparty"
          >Ubicanos</a
        >
      </li>
      <li class="hover:bg-stone-300/40">
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://www.tesla.com/es_MX/support">Ayuda</a
        >
      </li>
      <li class="hover:bg-stone-300/40">
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://ir.tesla.com/#quarterly-disclosure"
          >Relaciones con inversionistas</a
        >
      </li>
      <div
        class="sidebar-footer w-full h-12 bg-white mt-1 ml-[-10] mr-10 pt-2 flex hover:bg-stone-300/40"
      >
        <svg
          class="h-5 w-5 text-gray-900 ml-2 mr-2"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="1.3"
            d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"
          ></path>
        </svg>
        <ul class="flex flex-col [&>li>a]:leading-4">
          <li class="font-medium">
            <a href="" class="text-xs text-slate-900"> México</a>
          </li>
          <li class="font-small hover:underline">
            <a href="" class="text-xs text-slate-600">Español</a>
          </li>
        </ul>
      </div>
    </ul>
  </aside>
</nav>
<div
  class="overlay absolute top-0 left-0 w-[100%] h-screen backdrop-blur-sm z-0 transition ease-in-out duration-1000 delay-1000 hidden"
>
  <script>
    const menuButtonDesktop = document.querySelector(".menu-button-desktop");
    const sidebarDesktop = document.querySelector(".sidebar-desktop");
    const overlay = document.querySelector(".overlay");

    menuButtonDesktop.addEventListener("click", () => {
      //agrega
      sidebarDesktop.classList.toggle("translate-x-full");
      sidebarDesktop.classList.toggle("opacity-0");
      //elimina
      overlay.classList.toggle("hidden");
    });

    sidebarDesktop.addEventListener("click", (e) => {
      const target = e.target as HTMLElement;
      const nearestSidebar = target.closest(".sidebar-desktop");

      if (nearestSidebar) {
        //agrega
        nearestSidebar.classList.toggle("translate-x-full");
        nearestSidebar.classList.toggle("opacity-0");
        //elimina
        overlay.classList.toggle("hidden");
      }
    });

    overlay.addEventListener("click", () => {
      sidebarDesktop.classList.toggle("translate-x-full");
      sidebarDesktop.classList.toggle("opacity-0");
      overlay.classList.toggle("hidden");
    });
  </script>
</div>
